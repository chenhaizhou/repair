(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profile"],{"6f71":function(t,a,e){"use strict";var s=e("84f6"),n=e.n(s);n.a},"84f6":function(t,a,e){},c194:function(t,a,e){"use strict";e("68ef"),e("9d70"),e("3743"),e("1a04")},c66d:function(t,a,e){"use strict";e.r(a);var s,n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"profile"},[e("div",{staticClass:"user"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.avatar}})]),e("div",{staticClass:"name"},[t._v(t._s(t.user.name))])]),e("div",{staticClass:"info"},[e("van-cell-group",[e("van-cell",{attrs:{title:"身份",value:t.user.roleNames}}),e("van-cell",{attrs:{title:"所属部门",value:t.user.office.name}}),e("van-cell",{attrs:{title:"联系方式",value:t.user.mobile}})],1),t.showLogout?e("div",{staticClass:"btn"},[e("van-button",{attrs:{type:"danger",block:""},on:{click:t.logout}},[t._v("退出登录")])],1):t._e()],1),t._m(0)])},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"copy"},[e("p",[e("a",{attrs:{href:"/"}},[t._v("渭南师范学院")]),t._v(" © 2019-2025")])])}],r=e("bd86"),c=(e("66b9"),e("b650")),i=(e("0653"),e("34e9")),u=(e("c194"),e("7744")),l=(e("7f7f"),e("c3a6"),e("ad06")),d=e("bc3a"),f=e.n(d),m=e("db49"),v={data:function(){return{showLogout:!1,user:{office:{}}}},components:(s={},Object(r["a"])(s,l["a"].name,l["a"]),Object(r["a"])(s,u["a"].name,u["a"]),Object(r["a"])(s,i["a"].name,i["a"]),Object(r["a"])(s,c["a"].name,c["a"]),s),computed:{avatar:function(){return m["a"]+this.user.photo}},mounted:function(){this.getUser()},methods:{logout:function(){localStorage.removeItem("auth"),this.$router.push("/")},getUser:function(){var t=this,a=localStorage.getItem("auth");f.a.get("".concat(m["a"],"/repair/a/wechat/api/userById?uid=").concat(a),{withCredentials:!0}).then((function(a){t.user=a.data.body.user,localStorage.setItem("user",JSON.stringify(a.data.body.user)),localStorage.setItem("admin","commonUser"!==a.data.body.user.roleEnNames),t.$emit("updateIsAdmin","commonUser"!==a.data.body.user.roleEnNames)})).catch((function(t){console.log(t)}))}}},b=v,h=(e("6f71"),e("2877")),p=Object(h["a"])(b,n,o,!1,null,"51d43e01",null);a["default"]=p.exports}}]);
//# sourceMappingURL=profile.85ac43ae.js.map